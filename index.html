<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Hoshang ‚Äî Portfolio</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
<meta id="themeColor" name="theme-color" content="#ffffff">

<style>
  :root{
    --bg:#ffffff; --ink:#1f1f1f; --muted:#5d5b56; --accent:#c8a96b;

    /* glass tokens */
    --win-blur:22px;
    --win-tint:rgba(255,255,255,.28);
    --card-bg:rgba(255,255,255,.42);
    --card-bd:rgba(0,0,0,.08);
    --chip-bg:rgba(255,255,255,.65);

    --drop:0 26px 80px rgba(0,0,0,.22);
    --toolbar-h:68px; /* live-updated */
  }

  *,*::before,*::after{ box-sizing:border-box; }
  html,body{ margin:0; height:100%; font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; color:var(--ink); background:var(--bg); }
  body{ overflow:hidden; min-height:100svh; }

  /* Background video + veil */
  #bgVideoWrap{ position:fixed; inset:0; z-index:0; pointer-events:none; background:#000; }
  .bgVideo{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; transition:opacity .6s ease; filter:saturate(1.05) contrast(1.05); }
  #themeFade{ position:fixed; inset:0; background:var(--bg); opacity:0; transition:opacity .35s ease; z-index:1; pointer-events:none; }

  /* Soft grain */
  body::after{
    content:""; position:fixed; inset:0; z-index:2; pointer-events:none; mix-blend-mode:soft-light; opacity:.22;
    background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.03"/></svg>');
  }

  /* Welcome card */
  .welcome{
    position:relative; border-radius:24px; width:min(980px,96vw); margin:8vh auto 0; overflow:hidden;
    background:rgba(255,255,255,.18);
    backdrop-filter:blur(10px) saturate(1.25) contrast(1.06) brightness(1.04);
    -webkit-backdrop-filter:blur(10px) saturate(1.25) contrast(1.06) brightness(1.04);
    box-shadow:inset 0 2px 8px rgba(255,255,255,.55), inset 0 -4px 10px rgba(0,0,0,.14), var(--drop);
    z-index:3;
  }
  .welcome .hd{ background:linear-gradient(180deg, rgba(20,30,48,.78), rgba(25,35,56,.62)); color:#fff; padding:12px 18px; font-size:15px; border-bottom:1px solid rgba(255,255,255,.45); }
  .welcome .bd{ padding:64px 48px; text-align:center; }
  .welcome h1{ font-size:56px; font-weight:800; margin:0 0 12px; }
  .accent-chip{
    display:inline-block; padding:.12em .5em .18em; border-radius:14px;
    background:linear-gradient(180deg, color-mix(in oklab,var(--accent) 90%,white), color-mix(in oklab,var(--accent) 68%,black));
    color:#fff; border:1px solid color-mix(in oklab,var(--accent) 55%,black);
    box-shadow:inset 0 1px 0 rgba(255,255,255,.35), inset 0 -1px 0 rgba(0,0,0,.25), 0 4px 12px color-mix(in oklab, var(--accent) 35%, transparent);
  }
  .welcome .sub{ color:var(--muted); font-size:20px; margin-bottom:36px; }

  /* Buttons + toolbar discs */
  .icon-row{ display:grid; grid-template-columns:repeat(3,1fr); gap:22px; max-width:860px; margin:0 auto; }
  .icon-btn, .disc{
    --bg1: color-mix(in oklab, var(--accent) 92%, white);
    --bg2: color-mix(in oklab, var(--accent) 72%, black);
    --bd : color-mix(in oklab, var(--accent) 55%, black);
    --glow: color-mix(in oklab, var(--accent) 40%, transparent);
    font-weight:800; letter-spacing:.5px; color:#fff;
    background: linear-gradient(180deg, var(--bg1), var(--bg2));
    border:1px solid var(--bd); border-radius:16px; padding:14px 18px; min-height:44px;
    display:inline-flex; align-items:center; justify-content:center; gap:10px; user-select:none; text-decoration:none;
    box-shadow:inset 0 1px 0 rgba(255,255,255,.35), inset 0 -1px 0 rgba(0,0,0,.25), 0 8px 18px var(--glow);
    transition: transform .12s ease, box-shadow .15s ease, filter .15s ease;
  }
  .icon-btn:hover,.disc:hover{ filter:brightness(1.06); transform:translateY(-1px); }
  .icon-btn:active,.disc:active{ transform:translateY(1px); }
  .disc.is-active{ box-shadow:0 0 0 3px rgba(255,255,255,.7), 0 6px 18px var(--glow); }
  .disc-bar{
    position:relative; z-index:5; display:flex; gap:12px; flex-wrap:wrap; justify-content:center; align-items:center;
    margin:20px auto; max-width:min(980px,96vw); padding:12px 16px; border-radius:999px;
    background:rgba(255,255,255,.16);
    backdrop-filter:blur(10px) saturate(1.2) contrast(1.05) brightness(1.03);
    box-shadow:inset 0 2px 6px rgba(255,255,255,.45), inset 0 -3px 8px rgba(0,0,0,.12), 0 18px 48px rgba(0,0,0,.22);
  }
  .disc{ font-size:12px; padding:10px 14px; min-height:40px; }
  .disc img{ height:18px; width:auto; border-radius:6px; }
  #volume{ width:160px; }

  /* Windows */
  .desk-window{
    position:fixed; top:15vh; left:10vw; width:min(980px,92vw); max-height:70vh;
    display:none; flex-direction:column; z-index:4; opacity:0; transform:scale(.94);
    border-radius:20px; overflow:hidden; background:var(--win-tint);
    backdrop-filter: blur(var(--win-blur)) saturate(1.2) contrast(1.05) brightness(1.03);
    -webkit-backdrop-filter: blur(var(--win-blur)) saturate(1.2) contrast(1.05) brightness(1.03);
    box-shadow: inset 0 1px 4px rgba(255,255,255,.45), inset 0 -3px 6px rgba(0,0,0,.25), 0 16px 42px rgba(0,0,0,.25);
  }
  .desk-window .bar{
    background:linear-gradient(180deg, rgba(20,30,48,.78), rgba(25,35,56,.62));
    color:#fff; padding:10px 12px; display:flex; align-items:center; gap:10px; border-bottom:1px solid rgba(255,255,255,.45);
    cursor: move;
  }
  .desk-window .close{
    margin-left:auto; padding:4px 10px; border-radius:10px; border:1px solid rgba(255,255,255,.35);
    background:rgba(255,255,255,.12); transition: transform .12s ease, filter .12s ease, background .12s ease; cursor:pointer;
  }
  .desk-window .close:hover{ transform:scale(1.1); background:rgba(255,255,255,.18); }
  .desk-window .close:active{ transform:scale(.9); filter:brightness(.95); }
  .desk-window .body{ padding:22px 20px 30px; overflow:auto; }
  .desk-window.show{ display:flex; animation:genieOpen .28s ease-out forwards; }
  .desk-window.closing{ animation:genieClose .26s ease-in forwards; }
  @keyframes genieOpen{ from{opacity:0; transform:scale(.7) translateY(-20px);} to{opacity:1; transform:scale(1) translateY(0);} }
  @keyframes genieClose{ from{opacity:1;} to{opacity:0; transform:scale(.7) translateY(-20px);} }

  /* About etc. */
  .about-wrap{ display:grid; grid-template-columns:140px 1fr; gap:18px; align-items:start; }
  .avatar{ width:140px; height:140px; border-radius:18px; object-fit:cover; border:1px solid var(--card-bd); box-shadow:0 6px 16px rgba(0,0,0,.12); }
  .about-title{ margin:0 0 6px; font-size:28px; font-weight:800; }
  .about-lead{ margin:0 0 14px; font-size:18px; color:var(--muted); }
  .chip-row{ display:flex; flex-wrap:wrap; gap:10px; margin:12px 0 16px; }
  .chip{ --dot: color-mix(in oklab, var(--accent) 70%, black); padding:8px 12px; border-radius:999px; background:var(--chip-bg); border:1px solid var(--card-bd); font-size:13px; display:inline-flex; align-items:center; gap:8px; backdrop-filter:blur(6px); }
  .chip::before{ content:""; width:8px; height:8px; border-radius:50%; background:var(--dot); box-shadow:0 0 0 2px rgba(0,0,0,.06) inset; }

  .ach-grid{ display:grid; grid-template-columns:1fr 1fr; gap:14px; }
  .ach{ background:var(--card-bg); border:1px solid var(--card-bd); border-radius:14px; padding:12px 14px; box-shadow:0 8px 22px rgba(0,0,0,.10); color:var(--ink); }

  .xp{ display:grid; grid-template-columns:64px 1fr; gap:14px; padding:14px; border-radius:16px; background:var(--card-bg); border:1px solid var(--card-bd); box-shadow:0 10px 24px rgba(0,0,0,.12); }
  .xp + .xp{ margin-top:14px; }
  .xp-logo{ width:64px; height:64px; border-radius:12px; object-fit:cover; border:1px solid var(--card-bd); background:#fff; }
  .xp-h{ display:flex; flex-wrap:wrap; gap:8px 12px; align-items:baseline; font-weight:800; color:var(--ink); }
  .xp-meta{ color:var(--muted); font-size:12px; }
  .xp-list{ margin:6px 0 0 18px; }
  .xp-tags{ display:flex; flex-wrap:wrap; gap:8px; margin-top:8px; }
  .tag{ font-size:12px; padding:6px 10px; border-radius:999px; background:var(--chip-bg); border:1px solid var(--card-bd); }

  .xp-shot{ margin-top:10px; display:flex; gap:10px; align-items:center; }
  .xp-shot img{ width:220px; height:auto; border-radius:12px; object-fit:cover; border:1px solid var(--card-bd); }

  .proj-grid{ display:grid; grid-template-columns:repeat(2,1fr); gap:16px; }
  .proj{ border-radius:16px; overflow:hidden; background:var(--card-bg); border:1px solid var(--card-bd); box-shadow:0 8px 22px rgba(0,0,0,.10); transition:transform .12s ease, box-shadow .15s ease; color:var(--ink); }
  .proj:hover{ transform:translateY(-2px); box-shadow:0 12px 28px rgba(0,0,0,.14); }
  .proj img{ width:100%; height:160px; object-fit:cover; display:block; }
  .proj .pbd{ padding:12px 14px; }
  .proj .p-tags{ display:flex; flex-wrap:wrap; gap:8px; }

  .cert-list{ display:grid; grid-template-columns:1fr; gap:14px; }
  .cert-card{ padding:14px; border-radius:16px; background:var(--card-bg); border:1px solid var(--card-bd); box-shadow:0 10px 24px rgba(0,0,0,.12); color:var(--ink); }
  .cert-head{ display:flex; gap:12px; align-items:center; }
  .issuer-logo{ width:48px; height:48px; border-radius:10px; object-fit:cover; background:#fff; border:1px solid var(--card-bd); }
  .cert-meta{ color:var(--muted); font-size:12px; }
  .cert-shot{ margin-top:10px; }
  .cert-shot img{ width:240px; max-width:100%; height:auto; border-radius:12px; border:1px solid var(--card-bd); }

  /* Mobile tweaks */
  @media (max-width:900px){
    .disc-bar{
      position:fixed; top:2px; left:50%; transform:translateX(-50%);
      width:calc(100% - 16px); border-radius:18px; padding:8px;
      backdrop-filter:blur(12px) saturate(1.2);
    }
    .welcome{ width:94%; margin-top:calc(var(--toolbar-h) + 40px); }
    .welcome .bd{ padding:40px 16px; text-align:center; }
    .icon-row{ grid-template-columns:repeat(2, minmax(0,1fr)); gap:14px; }
    .icon-btn{ width:100%; text-align:center; }

    html, body{ height:auto; min-height:100svh; }
    body{ overflow:auto; overscroll-behavior-y:contain; }
    .disc{ font-size:11px; padding:9px 12px; }
    #volume{ width:120px; }

    .desk-window{
      left:0; right:0; width:auto; top:0; bottom:0;
      max-height:none; border-radius:0; transform:none; z-index:9999;
      height:100svh; min-height:100svh;
    }
    .desk-window .body{ padding:18px 16px 28px; }
    .desk-window.show{ animation:sheetUp .28s cubic-bezier(.22,.9,.2,1) forwards; }
    .desk-window.closing{ animation:sheetDown .24s ease forwards; }
    @keyframes sheetUp{ from{ opacity:0; transform:translateY(100%);} to{ opacity:1; transform:translateY(0);} }
    @keyframes sheetDown{ from{ opacity:1; transform:translateY(0);} to{ opacity:0; transform:translateY(100%);} }
    .about-wrap{ grid-template-columns:1fr; }
    .avatar{ width:110px; height:110px; }
    .ach-grid{ grid-template-columns:1fr; }
    .proj-grid{ grid-template-columns:1fr; }
  }

  /* Bobbing chibis + loader */
  @keyframes bob { 0%{transform:translateY(0)} 50%{transform:translateY(-6px)} 100%{transform:translateY(0)} }
  .bob  { animation:bob 1.6s ease-in-out infinite }
  .bob2 { animation:bob 1.8s ease-in-out infinite .1s }
  .bob3 { animation:bob 1.7s ease-in-out infinite .2s }

  #loader{
    position:fixed; inset:0; z-index:99999; display:grid; place-items:center;
    background:#0a0f1a; color:#fff;
  }
  #loaderCard{ text-align:center; max-width:520px; padding:24px; }
  #loadbarWrap{ height:10px; border-radius:999px; background:rgba(255,255,255,.15); overflow:hidden; }
  #loadbar{ height:100%; width:0; background:#fff; transition:width .25s ease; }

  /* Glass tooltip that points to the pause/play button */
  .glass-tip{
    position:fixed; z-index:100000; max-width:min(70vw,320px);
    background:rgba(255,255,255,.18);
    backdrop-filter:blur(10px) saturate(1.2) contrast(1.06) brightness(1.04);
    -webkit-backdrop-filter:blur(10px) saturate(1.2) contrast(1.06) brightness(1.04);
    color:#fff; border:1px solid rgba(255,255,255,.35);
    box-shadow:inset 0 1px 0 rgba(255,255,255,.35), inset 0 -1px 0 rgba(0,0,0,.25), 0 10px 24px rgba(0,0,0,.28);
    border-radius:14px; padding:10px 12px; font-size:13px; line-height:1.35;
    opacity:0; transform:scale(.95); pointer-events:none; transition:opacity .18s ease, transform .18s ease;
  }
  .glass-tip.show{ opacity:1; transform:scale(1); }
  /* Arrow variants */
  .glass-tip::after{
    content:""; position:absolute; width:12px; height:12px; background:inherit; border:inherit;
    transform:rotate(45deg);
  }
  .tip-top::after   { left:var(--ax,50%); bottom:-6px; transform:translateX(-50%) rotate(45deg); border-top:none; border-left:none; }
  .tip-bottom::after{ left:var(--ax,50%); top:-6px;    transform:translateX(-50%) rotate(45deg); border-bottom:none; border-right:none; }
  .tip-left::after  { top:var(--ay,50%);  right:-6px;  transform:translateY(-50%) rotate(45deg); border-left:none; border-bottom:none; }
  .tip-right::after { top:var(--ay,50%);  left:-6px;   transform:translateY(-50%) rotate(45deg); border-right:none; border-top:none; }
  .hidden{ display:none !important; }

  /* Cursors */
  a, button, .icon-btn, .disc, [data-close], [data-open] { cursor:pointer; }
  body.dragging { cursor: move; }
</style>
</head>
<body>

<!-- Loader (no preloading, just shows until assets are ready or 5s timeout) -->
<div id="loader">
  <div id="loaderCard">
    <div class="chibis" style="display:flex;gap:16px;justify-content:center;align-items:end;margin-bottom:16px;">
      <img src="images/childechibi1.webp" alt="" class="bob"  style="height:54px;">
      <img src="images/zhonglichibi.webp"  alt="" class="bob2" style="height:62px;">
      <img src="images/raidenchibi.png"    alt="" class="bob3" style="height:56px;">
    </div>
    <div style="font-weight:800;font-size:18px;margin-bottom:10px">Ready-ing your experience‚Ä¶</div>
    <div id="loadbarWrap"><div id="loadbar"></div></div>
  </div>
</div>

<!-- Tooltip that will point at the Pause/Play button -->
<div id="audioNudge" class="glass-tip hidden tip-top" role="status">
  Music is off by default on some browsers.<br>
  <strong>Tap&nbsp;<span aria-hidden="true">‚ñ∂Ô∏è</span>&nbsp;Play</strong> to start!
</div>

<!-- background videos -->
<div id="bgVideoWrap">
  <video id="bgVideoA" class="bgVideo" muted playsinline preload="metadata"></video>
  <video id="bgVideoB" class="bgVideo" muted playsinline preload="metadata"></video>
</div>
<div id="themeFade"></div>

<!-- hero -->
<section class="welcome">
  <div class="hd">home</div>
  <div class="bd">
    <h1>hi! i‚Äôm <span class="accent-chip">hoshang</span></h1>
    <p class="sub">founder, developer, researcher</p>

    <div class="icon-row">
      <a class="icon-btn" data-open="#aboutWin">üëã ABOUT</a>
      <a class="icon-btn" data-open="#expWin">üíº EXPERIENCE</a>
      <a class="icon-btn" data-open="#projectsWin">üß™ PROJECTS</a>
      <a class="icon-btn" data-open="#certWin">üìú CERTIFICATIONS</a>
      <a class="icon-btn" data-open="#springerWin">üìñ SPRINGER RESEARCH</a>
      <a class="icon-btn" data-open="#contactWin">‚úâÔ∏è CONTACT</a>
    </div>
  </div>
</section>

<!-- toolbar -->
<div class="disc-bar" id="toolbar">
  <label>vol <input id="volume" type="range" min="0" max="1" step="0.01" value="0.6"></label>

  <button class="disc is-active" data-theme="default">DEFAULT</button>
  <button class="disc" data-theme="liyue">
    <img src="images/zhonglichibi.webp" alt="Liyue chibi"> LIYUE
  </button>
  <button class="disc" data-theme="childe">
    <img src="images/childechibi1.webp" alt="Childe chibi"> CHILDE
  </button>
  <button class="disc" data-theme="inazuma">
    <img src="images/raidenchibi.png" alt="Inazuma chibi"> INAZUMA
  </button>

  <!-- Pause/Play button (reflects state; emoji updates via JS) -->
  <button class="disc" id="discToggle">
    <span id="discIcon" aria-hidden="true">‚è∏Ô∏è</span>
    <span id="discLabel">PAUSE</span>
  </button>
</div>

<!-- ABOUT -->
<section class="desk-window" id="aboutWin">
  <div class="bar" data-drag>About<div class="close" data-close>[x]</div></div>
  <div class="body">
    <div class="about-wrap">
      <img class="avatar" src="images/face.webp" alt="Portrait of Hoshang" />
      <div>
        <h3 class="about-title">Hey! I‚Äôm Hoshang.</h3>
        <p class="about-lead">
          I‚Äôm an AI/ML and IoT tinkerer who loves coding, building, and occasionally modeling markets for fun. Outside of research, I switch gears to guitar, keyboard, or even a tin whistle. I like creating things that work, and I like... really really really like winning.
        </p>
        <div class="chip-row">
          <span class="chip">IoT & Intelligent Systems</span>
          <span class="chip">AI/ML</span>
          <span class="chip">Finance</span>
          <span class="chip">Web Devlopment</span>
          <span class="chip">Game Devlopment</span>
        </div>
        <div class="ach-grid">
          <div class="ach">üìö 97% ‚Äî ICSE (Class 10)</div>
          <div class="ach">üß™ Springer-published Researcher ‚Äî LNNS (Scopus)</div>
          <div class="ach">üèÜ SIH Internal Winner ‚Äî Team GreenGrid</div>
          <div class="ach">üéñÔ∏è School Captain</div>
          <div class="ach">üöÄ Founder ‚Äî Marketing Agency</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- EXPERIENCE -->
<section class="desk-window" id="expWin">
  <div class="bar" data-drag>Experience<div class="close" data-close>[x]</div></div>
  <div class="body">
    <article class="xp">
      <img class="xp-logo" src="images/quality.webp" alt="QualityKiosk logo" />
      <div>
        <div class="xp-h">
          <div class="xp-role">Full-Stack Data Analytics Intern</div>
          <div class="xp-org">¬∑ QualityKiosk Technologies</div>
          <div class="xp-meta">Jun 2024 ‚Äì Jul 2024 ¬∑ Navi Mumbai</div>
        </div>
        <ul class="xp-list">
          <li>Built a Data App that delivered <strong>21√ó ROI</strong> by reducing turnover costs and saving HR time.</li>
          <li>Shipped dashboards for insight-driven decisions.</li>
        </ul>
        <div class="xp-tags">
          <span class="tag">Streamlit</span><span class="tag">MySQL</span><span class="tag">Pandas</span><span class="tag">Altair</span><span class="tag">Argon2id</span>
        </div>
        <div class="xp-shot">
          <img src="images/cert.jpg" alt="Internship certificate (thumb)">
        </div>
      </div>
    </article>

    <article class="xp">
      <img class="xp-logo" src="images/tweet.jpg" alt="Tweetmailer logo" />
      <div>
        <div class="xp-h">
          <div class="xp-role">Founder</div>
          <div class="xp-org">¬∑ Tweetmailer (Marketing Agency)</div>
          <div class="xp-meta">Feb 2023 ‚Äì Mar 2024 ¬∑ Mumbai</div>
        </div>
        <ul class="xp-list">
          <li>Scaled revenue for US/UK clients via Direct Response & Value-Based Marketing.</li>
          <li>Built persuasive funnels, copy, and landing pages.</li>
          <li>Prototyped GenAI customer-service bots.</li>
        </ul>
        <div class="xp-tags">
          <span class="tag">Copywriting</span><span class="tag">CRO</span><span class="tag">Paid Media</span><span class="tag">GenAI</span>
        </div>
        <div class="xp-shot">
          <img src="images/bot.jpg" alt="GenAI bot (thumb)">
        </div>
      </div>
    </article>

    <article class="xp">
      <img class="xp-logo" src="images/glitch.jpg" alt="Glitch! eSports logo" />
      <div>
        <div class="xp-h">
          <div class="xp-role">Head of Promotions</div>
          <div class="xp-org">¬∑ Glitch! eSports Society</div>
          <div class="xp-meta">Sep 2022 ‚Äì Mar 2024 ¬∑ Jaipur</div>
        </div>
        <ul class="xp-list">
          <li>Planned campus events with <strong>over 1,000</strong> footfall; drove sponsorships & promotions.</li>
        </ul>
        <div class="xp-tags">
          <span class="tag">Leadership</span><span class="tag">Email Marketing</span><span class="tag">Sponsorships</span><span class="tag">Event Ops</span>
        </div>
        <div class="xp-shot">
          <img src="images/show.jpg" alt="Event photo (thumb)">
        </div>
      </div>
    </article>
  </div>
</section>

<!-- PROJECTS -->
<section class="desk-window" id="projectsWin">
  <div class="bar" data-drag>Projects<div class="close" data-close>[x]</div></div>
  <div class="body">
    <div class="proj-grid">

      <article class="proj">
        <img src="images/dashboard.png" alt="Smart Power Grid Dashboard Screenshot">
        <div class="pbd">
          <h4>Smart Power Grid Monitoring & Optimization</h4>
          <p>IoT + ML system built with <strong>Raspberry Pi Pico W</strong>, <strong>LoRa</strong>, and <strong>MQTT</strong> for renewable microgrid monitoring and predictive load forecasting.</p>
          <ul class="xp-list" style="margin:8px 0 12px 18px;">
            <li>Real-time energy tracking with smart sensors</li>
            <li>Load forecasting via ANN, SVR, Genetic Algorithms</li>
            <li>Cloud dashboard for live visualization</li>
            <li><strong>SIH 2025 Internal Winner ‚Äî Team Solaris</strong></li>
          </ul>
          <div class="p-tags">
            <span class="tag">IoT</span><span class="tag">LoRa</span><span class="tag">MQTT</span>
            <span class="tag">ANN</span><span class="tag">Deep Learning</span>
          </div>
        </div>
      </article>

      <article class="proj">
        <img src="images/game.png" alt="Little Town pixel game screenshot">
        <div class="pbd">
          <h4>Little Town ‚Äî GameMaker Studio 2</h4>
          <p>A cozy, pixel-art prototype exploring interactive storytelling and retro-style mechanics.</p>
          <div class="p-tags">
            <span class="tag">GameMaker Studio 2</span><span class="tag">Pixel Art</span><span class="tag">UI/UX</span>
          </div>
          <p style="margin-top:10px;">
            <a class="icon-btn" href="https://gx.games/games/ceqjrl/little-town-modified-/tracks/1a4be7dc-fba7-4e4d-bee0-86713a02ef2c/" target="_blank" rel="noopener">‚ñ∂ PLAY</a>
          </p>
        </div>
      </article>

    </div>
  </div>
</section>

<!-- CERTIFICATIONS -->
<section class="desk-window" id="certWin">
  <div class="bar" data-drag>Certifications<div class="close" data-close>[x]</div></div>
  <div class="body">
    <div class="cert-list">
      <article class="cert-card">
        <div class="cert-head">
          <img class="issuer-logo" src="images/morgan.png" alt="J.P. Morgan logo">
          <div>
            <strong>Investment Banking Job Simulation</strong><br>
            <span class="cert-meta">J.P. Morgan ‚Äî Aug 2024 ¬∑ Forage</span>
          </div>
        </div>
        <ul class="xp-list">
          <li>Identified M&A target, built DCF, produced a crisp 2-page client brief.</li>
        </ul>
        <div class="cert-shot">
          <img src="images/morganc.png" alt="Investment Banking certificate">
        </div>
      </article>

      <article class="cert-card">
        <div class="cert-head">
          <img class="issuer-logo" src="images/stanford.png" alt="DeepLearning.AI logo">
          <div>
            <strong>Improving Deep Neural Networks</strong><br>
            <span class="cert-meta">DeepLearning.AI ‚Äî Apr 2025</span>
          </div>
        </div>
        <ul class="xp-list">
          <li>Regularization, hyperparameter search, and training-loop ergonomics.</li>
        </ul>
        <div class="cert-shot">
          <img src="images/stanfordc.png" alt="DeepLearning.AI certificate">
        </div>
      </article>
    </div>
  </div>
</section>

<!-- SPRINGER -->
<section class="desk-window" id="springerWin">
  <div class="bar" data-drag>Springer Research<div class="close" data-close>[x]</div></div>
  <div class="body">
    <h3 style="margin-top:0">Soon available on Springer üìö</h3>
    <div class="chip-row">
      <span class="chip">LNNS</span><span class="chip">Scopus Indexed</span><span class="chip">Research</span>
    </div>
  </div>
</section>

<!-- CONTACT -->
<section class="desk-window" id="contactWin">
  <div class="bar" data-drag>Contact<div class="close" data-close>[x]</div></div>
  <div class="body">

    <!-- Hero image -->
    <div style="margin-bottom:14px;">
      <img class="avatar" src="images/contact.png" alt="Contact banner" style="width:25%; height:auto; border-radius:14px; border:1px solid var(--card-bd); display:block;">
    </div>

    <h3 style="margin:0 0 10px; font-size:24px;">Let‚Äôs build something üí™üèº</h3>
    <p style="margin:0 0 18px; color:var(--muted);">
      I‚Äôm open to internships, freelance work, and collaborations around Machine Learning, IoT Projects, Hackathons and Business Case Competitions.  
      The fastest way to reach me is LinkedIn.
    </p>

    <!-- Availability / focus areas -->
    <div class="chip-row" style="margin-bottom:18px;">
      <span class="chip">Available ¬∑ Part-time / Internship</span>
      <span class="chip">ML/AI</span>
      <span class="chip">IoT</span>
      <span class="chip">Finance</span>
    </div>

    <!-- Primary actions -->
    <div class="cert-card" style="display:flex; flex-wrap:wrap; gap:12px; align-items:center;">
      <a class="icon-btn" style="padding:10px 16px;" href="mailto:hoshangchakravarty@icloud.com">
        üìß Email
      </a>
      <a class="icon-btn" style="padding:10px 16px;" href="https://www.linkedin.com/in/hoshangc/" target="_blank" rel="noopener">
        üîó LinkedIn
      </a>
      <a class="icon-btn" style="padding:10px 16px;" href="https://github.com/hoshangchakravarty/" target="_blank" rel="noopener">
        üíª GitHub
      </a>
      <a class="icon-btn" style="padding:10px 16px;" href="files/resume.pdf" target="_blank" rel="noopener">
        üìÑ Resume
      </a>
    </div>

    <!-- What to include -->
    <div class="cert-card" style="margin-top:14px;">
      <strong style="display:block; margin-bottom:8px;">What to include (helps me respond fast):</strong>
      <ul class="xp-list" style="margin:0 0 0 18px;">
        <li>1‚Äì2 lines on the goal and why now</li>
        <li>Links or screenshots for context</li>
        <li>Rough timeline and constraints</li>
      </ul>
    </div>

    <!-- Quick facts -->
    <div class="cert-card" style="margin-top:14px;">
      <div style="font-weight:800; margin-bottom:6px;">Quick facts</div>
      <ul class="xp-list" style="margin:0 0 0 18px;">
        <li>Location: Mumbai (IST)</li>
        <li>Typical response: &lt; 24h</li>
        <li>Preferred: async + concise briefs</li>
      </ul>
    </div>

  </div>
</section>
<script>
/* ===============================
   SIMPLE BOOT: loader until onload OR 5s (whichever first)
   =============================== */
(() => {
  const loader = document.getElementById('loader');
  const loadbar = document.getElementById('loadbar');
  const MAX_MS = 5000;

  // Fake progress: ease to 90% over 4.5s, then 100% at finish
  let start = performance.now();
  let done = false;
  function tick(t){
    if (done) return;
    const k = Math.min(1, (t - start) / (MAX_MS * 0.9));
    if (loadbar) loadbar.style.width = (k * 90).toFixed(0) + '%';
    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);

  function finishLoader(){
    if (done) return;
    done = true;
    if (loadbar) loadbar.style.width = '100%';
    if (loader){
      loader.style.opacity = '0';
      setTimeout(() => loader.remove?.(), 350);
    }
  }

  window.addEventListener('load', finishLoader, {once:true});
  setTimeout(finishLoader, MAX_MS);
})();

/* ===============================
   THEME + BG VIDEO + AUDIO
   =============================== */
const themes = {
  default : { accent:'#c8a96b', bg:'#ffffff',       tint:'light', video:'images/default.mp4',  audio:'sounds/default.mp3' },
  liyue   : { accent:'#d7a22a', bg:'#0b1f2a',       tint:'dark',  video:'images/liyue.mp4',    audio:'sounds/rex.mp3'     },
  childe  : { accent:'#0b63c9', bg:'#061a2e',       tint:'dark',  video:'images/childe.mp4',   audio:'sounds/childe.mp3'  },
  inazuma : { accent:'#7a3ef0', bg:'#f7f6ff',       tint:'light', video:'images/inazuma.mp4',  audio:'sounds/inazuma.mp3' }
};
let currentTheme = 'default';

const root = document.documentElement;
const metaTheme = document.getElementById('themeColor');

const vA = document.getElementById('bgVideoA');
const vB = document.getElementById('bgVideoB');
[vA, vB].forEach(v => { v.muted = true; v.setAttribute('muted',''); v.loop = true; });

let activeVid = 'A';
function swapVideo(src){
  const from = activeVid === 'A' ? vA : vB;
  const to   = activeVid === 'A' ? vB : vA;

  if (to.src !== src) to.src = src;
  to.currentTime = 0;
  to.play().catch(()=>{});
  to.style.opacity = '1';
  from.style.opacity = '0';
  activeVid = activeVid === 'A' ? 'B' : 'A';
}

/* Accent + tint swap */
function applyThemeTokens(spec){
  root.style.setProperty('--accent', spec.accent);
  root.style.setProperty('--bg', spec.bg);

  // swap glass tokens for readability
  if (spec.tint === 'dark'){
    root.style.setProperty('--ink','#ffffff');
    root.style.setProperty('--muted','#cfcfcf');
    root.style.setProperty('--win-tint','rgba(6,10,18,.34)');
    root.style.setProperty('--card-bg','rgba(8,12,22,.42)');
    root.style.setProperty('--card-bd','rgba(255,255,255,.12)');
    root.style.setProperty('--chip-bg','rgba(255,255,255,.12)');
  }else{
    root.style.setProperty('--ink','#1f1f1f');
    root.style.setProperty('--muted','#5d5b56');
    root.style.setProperty('--win-tint','rgba(255,255,255,.28)');
    root.style.setProperty('--card-bg','rgba(255,255,255,.42)');
    root.style.setProperty('--card-bd','rgba(0,0,0,.08)');
    root.style.setProperty('--chip-bg','rgba(255,255,255,.65)');
  }

  if (metaTheme) metaTheme.setAttribute('content', spec.bg);
}

/* ===============================
   AUDIO: single <audio>, play/pause button, volume, theme-sync
   =============================== */
let audioEl = null;
let isPlaying = false;
const vol = document.getElementById('volume');

function ensureAudio(){
  if (!audioEl){
    audioEl = new Audio();
    audioEl.loop = true;
    audioEl.preload = 'metadata';
    audioEl.volume = parseFloat(vol?.value || '0.6');
  }
  return audioEl;
}
function setAudioSource(src, keepTime=false){
  const a = ensureAudio();
  const t = keepTime ? a.currentTime : 0;
  const wasPlaying = isPlaying;
  a.pause();
  a.src = src;
  a.currentTime = t || 0;
  if (wasPlaying){
    a.play().then(()=>{ isPlaying = true; updateDiscToggleUI(); }).catch(()=>{ isPlaying = false; updateDiscToggleUI(); });
  }else{
    isPlaying = false;
    updateDiscToggleUI();
  }
}
if (vol){
  vol.addEventListener('input', () => { if (audioEl) audioEl.volume = parseFloat(vol.value); });
}

/* Pause/Play button UI sync */
const discToggle = document.getElementById('discToggle');
const discIcon   = document.getElementById('discIcon');
const discLabel  = document.getElementById('discLabel');

function updateDiscToggleUI(){
  if (!discIcon || !discLabel) return;
  if (isPlaying){
    discIcon.textContent  = '‚è∏Ô∏è';
    discLabel.textContent = 'PAUSE';
  } else {
    discIcon.textContent  = '‚ñ∂Ô∏è';
    discLabel.textContent = 'PLAY';
  }
}

/* Nudge tooltip toward the pause/play button */
const audioNudge = document.getElementById('audioNudge');
let nudgeTimer = null;
function showAudioNudgeFor5s(){
  if (!audioNudge || !discToggle) return;
  positionTipAtButton(audioNudge, discToggle);
  audioNudge.classList.remove('hidden');
  requestAnimationFrame(() => audioNudge.classList.add('show'));
  clearTimeout(nudgeTimer);
  nudgeTimer = setTimeout(hideAudioNudge, 5000);
}
function hideAudioNudge(){
  if (!audioNudge) return;
  audioNudge.classList.remove('show');
  setTimeout(()=> audioNudge.classList.add('hidden'), 180);
}
function positionTipAtButton(tipEl, btnEl){
  const vw = window.innerWidth, vh = window.innerHeight;
  const r  = btnEl.getBoundingClientRect();
  const tip = tipEl.getBoundingClientRect();
  // Choose side with most free space
  const spaces = [
    {side:'top',    space:r.top},
    {side:'bottom', space:vh - r.bottom},
    {side:'left',   space:r.left},
    {side:'right',  space:vw - r.right}
  ].sort((a,b)=>b.space-a.space);

  // reset arrow classes
  tipEl.classList.remove('tip-top','tip-bottom','tip-left','tip-right');

  const pad = 10; // gap between tip and button
  let x=0, y=0;

  if (spaces[0].side === 'top'){
    tipEl.classList.add('tip-top');
    x = Math.min(vw - tip.width - 8, Math.max(8, r.left + (r.width - tip.width)/2));
    y = r.top - tip.height - pad;
    tipEl.style.setProperty('--ax', ((Math.min(Math.max(r.left + r.width/2 - x, 12), tip.width-12)) / tip.width * 100) + '%');
  } else if (spaces[0].side === 'bottom'){
    tipEl.classList.add('tip-bottom');
    x = Math.min(vw - tip.width - 8, Math.max(8, r.left + (r.width - tip.width)/2));
    y = r.bottom + pad;
    tipEl.style.setProperty('--ax', ((Math.min(Math.max(r.left + r.width/2 - x, 12), tip.width-12)) / tip.width * 100) + '%');
  } else if (spaces[0].side === 'left'){
    tipEl.classList.add('tip-left');
    x = r.left - tip.width - pad;
    y = Math.min(vh - tip.height - 8, Math.max(8, r.top + (r.height - tip.height)/2));
    tipEl.style.setProperty('--ay', ((Math.min(Math.max(r.top + r.height/2 - y, 12), tip.height-12)) / tip.height * 100) + '%');
  } else {
    tipEl.classList.add('tip-right');
    x = r.right + pad;
    y = Math.min(vh - tip.height - 8, Math.max(8, r.top + (r.height - tip.height)/2));
    tipEl.style.setProperty('--ay', ((Math.min(Math.max(r.top + r.height/2 - y, 12), tip.height-12)) / tip.height * 100) + '%');
  }

  tipEl.style.left = Math.round(x) + 'px';
  tipEl.style.top  = Math.round(y) + 'px';
}

/* Button behavior */
if (discToggle){
  discToggle.addEventListener('click', () => {
    const a = ensureAudio();
    if (isPlaying){
      a.pause();
      isPlaying = false;
      updateDiscToggleUI();
    } else {
      a.play().then(()=>{ isPlaying = true; updateDiscToggleUI(); hideAudioNudge(); })
               .catch(()=>{ isPlaying = false; updateDiscToggleUI(); });
    }
  });
}

/* ===============================
   CLICK SFX (WebAudio)
   =============================== */
let AC = null, sfx = { click:null };
function getAC(){ if (!AC) AC = new (window.AudioContext||window.webkitAudioContext)(); return AC; }
function loadClick(){
  fetch('sounds/click.mp3').then(r => r.arrayBuffer()).then(buf => {
    getAC().decodeAudioData(buf, (decoded)=>{ sfx.click = decoded; });
  }).catch(()=>{});
}
function playClickSfx(){
  if (!AC || AC.state !== 'running' || !sfx.click) return;
  const src = AC.createBufferSource();
  src.buffer = sfx.click;
  const g = AC.createGain(); g.gain.value = 0.45;
  src.connect(g).connect(AC.destination);
  src.start(0);
}
// First user gesture unlocks AudioContext & loads SFX
['pointerdown','keydown','touchstart'].forEach(ev=>{
  document.addEventListener(ev, ()=>{
    const ctx = getAC();
    ctx.resume().catch(()=>{});
    loadClick();
  }, {once:true, capture:true});
});
// Play SFX on UI-clicks only
document.addEventListener('click', e=>{
  if (e.target.closest('a,button,.icon-btn,.disc,[data-close]')) playClickSfx();
});

/* ===============================
   THEME SWITCHING (buttons)
   =============================== */
function applyTheme(name, options={ fromUser:false }){
  const spec = themes[name] || themes.default;
  currentTheme = name;

  // Tokens + status bar color
  applyThemeTokens(spec);

  // Background video (simple crossfade)
  if (spec.video){
    const src = spec.video;
    swapVideo(src);
  }

  // Music reflect accurately: 
  // - If currently playing, switch track and keep playing.
  // - If paused, switch track but remain paused (button shows ‚ñ∂Ô∏è PLAY).
  if (spec.audio){
    setAudioSource(spec.audio, /*keepTime*/false);
  }

  // Button active state
  document.querySelectorAll('.disc[data-theme]').forEach(d=>{
    d.classList.toggle('is-active', d.dataset.theme === name);
  });

  // If user initiated the theme change and music is paused, keep it paused (no surprise autoplay).
  // If it was playing, it will continue (handled inside setAudioSource).
}
document.querySelectorAll('.disc[data-theme]').forEach(b => {
  b.addEventListener('click', ()=> applyTheme(b.dataset.theme, {fromUser:true}));
});

/* ===============================
   INITIALIZE: default theme + decide if we show audio nudge
   =============================== */
window.addEventListener('DOMContentLoaded', () => {
  // Start with default visuals
  applyTheme('default');

  // Try to start bg video A immediately (won't block UI if it fails)
  vA.src = themes.default.video;
  vA.play().catch(()=>{});

  // Set up audio element with default theme source, but DO NOT autoplay.
  setAudioSource(themes.default.audio, false); // this will not play because isPlaying is false

  // Music is off by default ‚Üí show a tip pointing to the button (5s) after layout settles
  setTimeout(()=>{
    updateDiscToggleUI();
    // Only show the nudge if not already playing (e.g., some browsers might allow it)
    if (!isPlaying) showAudioNudgeFor5s();
  }, 300);

  // Reposition tip on resize/orientation changes
  ['resize','orientationchange'].forEach(ev => {
    window.addEventListener(ev, ()=>{
      if (!audioNudge || audioNudge.classList.contains('hidden')) return;
      positionTipAtButton(audioNudge, discToggle);
    });
  });
});

/* ===============================
   WINDOWS: open/close + drag (desktop only)
   =============================== */
const OPENERS = document.querySelectorAll('[data-open]');
const MODALS  = document.querySelectorAll('.desk-window');
let z = 10;

function isMobile(){ return window.matchMedia('(max-width:900px)').matches; }

OPENERS.forEach(b => b.addEventListener('click', () => {
  const win = document.querySelector(b.getAttribute('data-open')); if(!win) return;

  if (isMobile()){
    // Let CSS fullscreen sheet handle layout
    ['left','top','right','bottom','width','height','transform'].forEach(k => win.style[k] = '');
  }

  win.classList.remove('closing');
  win.style.display='flex';
  win.classList.remove('show'); void win.offsetWidth; // reflow
  win.classList.add('show');
  win.style.zIndex=(++z);
}));

MODALS.forEach(win=>{
  win.querySelector('[data-close]')?.addEventListener('click',()=>{
    win.classList.remove('show'); win.classList.add('closing');
  });
  win.addEventListener('animationend',ev=>{
    if(ev.animationName==='genieClose'||ev.animationName==='sheetDown'){
      win.classList.remove('closing'); win.style.display='none';
    }
  });
  win.addEventListener('mousedown',()=>win.style.zIndex=(++z));

  const bar=win.querySelector('[data-drag]'); if(!bar) return;
  let sx=0,sy=0,drag=false;

  const down = e => {
    if (isMobile()) return; // disable dragging on mobile
    drag = true;
    document.body.classList.add('dragging');
    const r = win.getBoundingClientRect();
    const p = e.touches ? e.touches[0] : e;
    sx = p.clientX - r.left; 
    sy = p.clientY - r.top;
    document.addEventListener('mousemove', move);
    document.addEventListener('mouseup', up);
    document.addEventListener('touchmove', move, { passive: false });
    document.addEventListener('touchend', up);
  };
  const move=e=>{
    if(!drag) return; e.preventDefault?.(); const p=e.touches?e.touches[0]:e;
    let x=p.clientX-sx,y=p.clientY-sy;
    const maxX=innerWidth-win.offsetWidth-8, maxY=innerHeight-win.offsetHeight-8;
    win.style.left=Math.max(8,Math.min(maxX,x))+'px';
    win.style.top =Math.max(8,Math.min(maxY,y))+'px';
  };
  const up = () => {
    drag = false;
    document.body.classList.remove('dragging');
    document.removeEventListener('mousemove', move);
    document.removeEventListener('mouseup', up);
    document.removeEventListener('touchmove', move);
    document.removeEventListener('touchend', up);
  };

  bar.addEventListener('mousedown',down);
  bar.addEventListener('touchstart',down,{passive:true});
});

/* ===============================
   LIVE toolbar height -> CSS var for spacing on mobile
   =============================== */
const toolbar = document.getElementById('toolbar');
function setToolbarH(){
  const h = toolbar?.getBoundingClientRect().height || 68;
  root.style.setProperty('--toolbar-h', `${Math.ceil(h)}px`);
}
setToolbarH();
window.addEventListener('resize', setToolbarH);
window.addEventListener('orientationchange', setToolbarH);
</script>
</body>
</html>